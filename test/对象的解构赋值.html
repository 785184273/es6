<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			/*
			 *	结构不仅仅可以用于数组，也可以用于对象
			 * 		对象的解构与数组有一个重要的不同，数组的元素是按照次序排列的，变量的取值由他的位置决定，而对象的属性没有次序，变量必须与属性同名，才能取到正确的值
			 * */
			
			//变量和同名属性相对应，顺利取到值
			let {foo,bar} = {foo : "a",bar : "b"};
			console.log(foo + "," + bar);			//a,b
			
			//变量没有对应的同名属性，导致取不到值，最后等于undefined
			let {baz} = {foo : "a",bar : "b"};
			console.log(baz);						//undefined
			
			//如果变量名与属性名不一致,foo是匹配的模式，a才是变量
			let {foo : a} = {foo : "a",bar : "b"};
			console.log(a);
			
			//嵌套结构的对象
			let obj = {
				p : [
					'hello',
					{y : 'world'}
				]
			};
			let {p : [x,{y}]} = obj;
			console.log(x + "," + y);				//hello,world
			
			/*
			 *	下面代码有三次解构赋值,分别是对loc,start,line三个属性的解构赋值
			 * 	注意：最后一次对line属性的解构赋值之中，只有line是变量，loc和start都是模式
			 * 
			 * */
			let {loc,loc : {start},loc : {start : {line}}} = {loc : {start : {line : 1,colunm : 5}}};
			console.log(loc + "," + start + "," + line);	//{start:Object},{line:1,column:5},1
			
			//嵌套赋值
			let tObj = {};
			let tarr = {};
			({foo : tObj.prop,bar : tarr[0]} = {foo : 123,bar : true});
			console.log(tObj + "," + tarr);
			
			/*
			 * 	对象的解构指定默认值,默认值的生效条件是，对象的属性值严格等于undefined
			 * 	注意：null不严格等于undefined
			 */
			let {w = 3} = {};
			console.log(w);		//3
			let {s,e = 5} = {s : 1};
			console.log(s + "," + e); //1,5
			let {d : r = 3} = {d : 5};
			console.log(r)	//5
			let {f = 3} = {f : null};
			console.log(f);	//null

		</script>
	</body>
</html>
